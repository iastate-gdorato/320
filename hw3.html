<p>Input:<br><textarea id="input" rows="10" cols="80"></textarea>
<p><button onclick="process()">Process</button>
<p>Output:<br><textarea id="output" rows="10" cols="80"></textarea>

<script>

function process() {
  x = document.getElementById("input").value
  words = x.split(" ") //string(sentence) to array(group of words)
  
  for (i = 0; i < words.length - 1; i ++) { 
  
    noun = words[i + 1]
    if (words[i] === "a") {
      a = noun.charAt(0)
      if (a === "a" || a === "e" || a === "i"  || a === "o" || a === "u" ) {
        words[i] = "an"
        continue;
        }
      }
    
    if (words[i] === "an") {
      a = noun.charAt(0)
       if (a !== "a" && a !== "e" && a !== "i" && a !== "o" && a !== "u"){ //not working
      	words[i] = "a"
      	continue;
    	}
   }   
  }
  correction = words.join(" ")  
  document.getElementById("output").value = correction
}

</script>